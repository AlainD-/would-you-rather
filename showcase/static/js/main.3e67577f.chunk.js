(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{63:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(11),c=n.n(s),i=n(5),o=n(23),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},l=(n(63),n(13)),j=n.n(l),d="FETCH_USERS";function b(e){return{type:d,users:e}}var h="FETCH_QUESTIONS";function O(e){return{type:h,questions:e}}var m="SET_AUTHED_USER";function x(e){return{type:m,id:e}}var f="SET_ERROR_MESSAGE";function v(e){return{type:f,error:e}}var p=n(18),g=n.n(p),y=n(24),w=n(19),q=n(9),N=n(3),T={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"/images/avatars/sarahedo.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"/images/avatars/tylermcginnis.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"/images/avatars/johndoe.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]},alaindeurveilher:{id:"alaindeurveilher",name:"Alain D'eurveilher",avatarURL:"/images/avatars/alaindeurveilher.png",answers:{},questions:[]}},S={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function k(){return new Promise((function(e,t){setTimeout((function(){return e(Object(N.a)({},T))}),1e3)}))}function U(){return new Promise((function(e,t){setTimeout((function(){return e(Object(N.a)({},S))}),1e3)}))}function L(e){return new Promise((function(t,n){var r=e.author,a=function(e){var t=e.optionOneText,n=e.optionTwoText,r=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:r,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){S=Object(N.a)(Object(N.a)({},S),{},Object(q.a)({},a.id,a)),T=Object(N.a)(Object(N.a)({},T),{},Object(q.a)({},r,Object(N.a)(Object(N.a)({},T[r]),{},{questions:T[r].questions.concat([a.id])}))),t(a)}),1e3)}))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unexpected error occurred",t=arguments.length>1?arguments[1]:void 0;console.error({message:e,error:t})}function C(){return A.apply(this,arguments)}function A(){return(A=Object(y.a)(g.a.mark((function e(){var t,n,r,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([k(),U()]);case 2:return t=e.sent,n=Object(w.a)(t,2),r=n[0],a=n[1],e.abrupt("return",{users:r,questions:a});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return function(e){var t=e.authedUser,n=e.qid,r=e.answer;return new Promise((function(e,a){setTimeout((function(){T=Object(N.a)(Object(N.a)({},T),{},Object(q.a)({},t,Object(N.a)(Object(N.a)({},T[t]),{},{answers:Object(N.a)(Object(N.a)({},T[t].answers),{},Object(q.a)({},n,r))}))),S=Object(N.a)(Object(N.a)({},S),{},Object(q.a)({},n,Object(N.a)(Object(N.a)({},S[n]),{},Object(q.a)({},r,Object(N.a)(Object(N.a)({},S[n][r]),{},{votes:S[n][r].votes.concat([t])}))))),e()}),500)}))}(e)}function z(e){return L(e)}var F="ANSWER_POLL",D="ADD_QUESTION";function P(e){var t=e.authedUser,n=e.qid,r=e.answer;return{type:F,authedUser:t,questionId:n,answer:r}}function B(e){return{type:D,question:e}}var Q=n(32);var I=Object(o.b)({authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.id;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(N.a)(Object(N.a)({},e),t.users);case F:var n=t.authedUser,r=t.questionId,a=t.answer;return Object(N.a)(Object(N.a)({},e),{},Object(q.a)({},n,Object(N.a)(Object(N.a)({},e[n]),{},{answers:Object(N.a)(Object(N.a)({},e[n].answers),{},Object(q.a)({},r,a))})));case D:var s=t.question,c=s.author;return Object(N.a)(Object(N.a)({},e),{},Object(q.a)({},c,Object(N.a)(Object(N.a)({},e[c]),{},{questions:[].concat(Object(Q.a)(e[c].questions),[s.id])})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(N.a)(Object(N.a)({},e),t.questions);case F:var n=t.questionId,r=t.answer,a=t.authedUser;return Object(N.a)(Object(N.a)({},e),{},Object(q.a)({},n,Object(N.a)(Object(N.a)({},e[n]),{},Object(q.a)({},r,Object(N.a)(Object(N.a)({},e[n][r]),{},{votes:[].concat(Object(Q.a)(e[n][r].votes),[a])})))));case D:var s=t.question;return Object(N.a)(Object(N.a)({},e),{},Object(q.a)({},s.id,s));default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.error;default:return e}},loadingBar:l.loadingBarReducer}),W=n(42),_=n(43),H=Object(o.a)(_.a,Object(W.createLogger)()),M=(n(68),n(69),n(70),n(71),n(4)),V=n(21),Y=n(17),J=n(22),G=n(51),$=n(26);function K(e,t){var n=e.questions,r=e.users,a=e.authedUser,s=n[t];return{question:s,author:s?r[s.author]:null,authedUser:a,isAnswered:!!a&&Object.keys(r[a].answers).includes(t)}}function X(e){var t=e.users;return Object($.sortBy)((function(e){return e.name}))(Object.keys(t).map((function(e){return t[e]})))}function Z(e){var t=e.users,n=function(e){return e.answers?Object.keys(e.answers).length:0},r=function(e){var t;return(null===(t=e.questions)||void 0===t?void 0:t.length)||0},a=function(e){return n(e)+r(e)},s=X({users:t}).map((function(e){return Object(N.a)(Object(N.a)({},e),{},{answered:n(e),created:r(e),score:a(e)})}));return Object($.sortBy)((function(e){return-e.score}))(s)}var ee=n(1);function te(e){var t=e.url,n=e.height,r=void 0===n?"90px":n,a=e.className,s=void 0===a?"":a;return Object(ee.jsx)("div",{className:"flex align-items-center justify-content-center",children:Object(ee.jsx)("img",{alt:"avatar",src:t,height:r,className:s})})}function ne(){var e=Object(M.g)(),t=Object(i.useDispatch)(),n=Object(i.useSelector)(X),a=Object(r.useState)(null),s=Object(w.a)(a,2),c=s[0],o=s[1],u=Object(ee.jsx)("img",{alt:"logo",src:"/images/logo/logo.svg",style:{backgroundColor:"var(--blue-900)"}}),l=function(e){return Object(ee.jsxs)("div",{className:"flex align-items-center",children:[Object(ee.jsx)(te,{url:e.avatarURL,height:"30px",className:"mr-2"}),Object(ee.jsx)("div",{children:e.name})]})};return Object(ee.jsx)(J.a,{title:"Welcome to the Would You Rather game",subTitle:"Please sign in to continue",header:u,style:{width:"25rem"},children:Object(ee.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t(x(c.id)),e.push("/")},className:"p-fluid",children:[Object(ee.jsx)("div",{className:"p-field mb-1",children:Object(ee.jsxs)("span",{className:"p-float-label",children:[Object(ee.jsx)(G.a,{id:"user",name:"user",value:c,onChange:function(e){o((function(){return e.target.value}))},options:n,optionLabel:"name",valueTemplate:function(e){return e?l(e):Object(ee.jsx)("span",{children:"Select User"})},itemTemplate:l}),Object(ee.jsx)("label",{htmlFor:"user",children:"Select User"})]})}),Object(ee.jsx)(Y.a,{type:"submit",label:"Submit",className:"mt-2",disabled:!c})]})})}var re=n(33),ae=n(10),se=n(15);function ce(){var e=Object(ee.jsx)("span",{style:{color:"var(--pink-700)"},children:"Not Found"});return Object(ee.jsx)(se.a,{header:e,className:"mb-3",children:Object(ee.jsxs)("div",{className:"flex align-content-center",style:{color:"var(--pink-700)"},children:[Object(ee.jsx)("i",{className:"pi pi-exclamation-triangle flex align-items-center justify-content-center mr-2",style:{fontSize:"2em"}}),Object(ee.jsx)(ae.a,{layout:"vertical"}),Object(ee.jsx)("div",{className:"p-fluid flex-grow-1 align-items-center justify-content-center",children:Object(ee.jsx)("p",{children:"This question was not found!"})})]})})}function ie(e){var t=e.id,n=Object(i.useSelector)((function(e){return K(e,t)})),r=n.question,a=n.author,s=n.authedUser,c=Object(M.g)();if(!r)return Object(ee.jsx)(ce,{});var o="...".concat(r.optionOne.text.substring(0,20),"..."),u="".concat(a.name," asks:");return Object(ee.jsx)(se.a,{header:u,className:"mb-3",children:Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)(te,{url:a.avatarURL}),Object(ee.jsx)(ae.a,{layout:"vertical"}),Object(ee.jsxs)("div",{className:"p-fluid flex-grow-1 align-items-center justify-content-center",children:[Object(ee.jsx)("h3",{children:"Would you rather"}),Object(ee.jsx)("p",{children:o}),Object(ee.jsx)(Y.a,{type:"button",label:"View Poll",className:"p-button-outlined p-button-sm",disabled:!s,onClick:function(){c.push("/questions/".concat(t))}})]})]})})}var oe=n(31);function ue(e){var t=e.text,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e={severity:"info",detail:t,sticky:!0,closable:!1};(null===n||void 0===n?void 0:n.current)&&n.current.show(e)}),[t]),Object(ee.jsx)(oe.a,{ref:n})}function le(e){var t,n=e.authedUser,r=e.users,a=e.questions,s=n?Object.keys((null===(t=r[n])||void 0===t?void 0:t.answers)||{}):[],c=Object.keys(a).filter((function(e){return!s.includes(e)}));return{answeredQuestions:Object($.sortBy)((function(e){return-e.timestamp}))(s.map((function(e){return a[e]}))),unAnsweredQuestions:Object($.sortBy)((function(e){return-e.timestamp}))(c.map((function(e){return a[e]})))}}function je(){var e=Object(i.useSelector)(le),t=e.answeredQuestions,n=e.unAnsweredQuestions;return Object(ee.jsxs)(re.b,{children:[Object(ee.jsxs)(re.a,{header:"Unanswered Questions",children:[!n.length&&Object(ee.jsx)(ue,{text:"There are no new questions at the moment."}),n.map((function(e){var t=e.id;return Object(ee.jsx)(ie,{id:t},t)}))]}),Object(ee.jsxs)(re.a,{header:"Answered Questions",children:[!t.length&&Object(ee.jsx)(ue,{text:"You have not answered any question yet."}),t.map((function(e){var t=e.id;return Object(ee.jsx)(ie,{id:t},t)}))]})]})}function de(){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t={severity:"error",detail:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("span",{className:"mr-2",children:"The requested page does not exist!"})," ",Object(ee.jsx)(V.b,{to:"/",children:"Try again."})]}),sticky:!0,closable:!1};(null===e||void 0===e?void 0:e.current)&&e.current.show(t)}),[]),Object(ee.jsx)(J.a,{title:"Error 404",children:Object(ee.jsx)(oe.a,{ref:e})})}var be=n(45);function he(){var e,t,n=Object(M.g)(),r=Object(i.useDispatch)(),a=Object(i.useSelector)((function(e){return e.authedUser})),s=Object(i.useSelector)((function(e){return e.users})),c=Object(ee.jsx)("img",{alt:"logo",src:"/images/logo/logo.svg",height:"50px",className:"mr-2"}),o=Object(ee.jsx)("div",{className:"ml-4 flex align-content-center",children:a&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"flex align-items-center justify-content-center mr-2",children:["Hello, ",Object(ee.jsx)("strong",{className:"ml-1",children:null===(e=s[a])||void 0===e?void 0:e.name})]}),Object(ee.jsx)(te,{url:null===(t=s[a])||void 0===t?void 0:t.avatarURL,height:"40px",className:"mr-2"}),Object(ee.jsx)(Y.a,{type:"button",label:"Logout",onClick:function(){r(x(null)),n.push("/login")}})]})}),u=[{label:"Home",command:function(){return n.push("/")},disabled:!a},{label:"New Question",command:function(){return n.push("/new")},disabled:!a},{label:"Leader Board",command:function(){return n.push("/leader-board")},disabled:!a},{label:"Login",command:function(){return n.push("/login")},style:{display:a?"none":"list-item"}}];return Object(ee.jsx)(be.a,{model:u,start:c,end:o})}var Oe=n(46);function me(){return Object(ee.jsxs)("div",{style:{backgroundColor:"#FBC02D",color:"#FFFFFF",borderRadius:"50%",padding:"0.4rem 0",justifyContent:"center",fontSize:"0.6rem",fontWeight:"700",marginTop:"-1.5rem",display:"block",alignItems:"center",verticalAlign:"bottom",textAlign:"center",overflow:"hidden",position:"relative",top:"1rem",left:"-1rem",height:"2.357rem",width:"2.357rem"},children:[Object(ee.jsx)("div",{children:"Your"}),Object(ee.jsx)("div",{children:"vote"})]})}function xe(e){var t=e.text,n=e.isUserVote,r=e.totalVotes,a=void 0===r?0:r,s=e.voted,c=void 0===s?0:s,i={background:n?"var(--cyan-100)":"var(--surface-50)",padding:"1rem",boxShadow:"0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12)",borderRadius:"4px",marginBottom:"1rem"},o="".concat(c," out of ").concat(a," votes"),u=0!==a?Math.floor(100*c/a):0;return Object(ee.jsxs)(ee.Fragment,{children:[n&&Object(ee.jsx)(me,{}),Object(ee.jsxs)("div",{style:i,className:"flex flex-column p-fluid",children:[Object(ee.jsx)("h3",{className:"mt-0",children:t}),Object(ee.jsx)(Oe.a,{value:u}),Object(ee.jsx)("div",{className:"font-bold flex align-items-center justify-content-center",children:o})]})]})}var fe=n(47);function ve(e){var t=e.option,n=e.label,r=e.isChecked,a=e.onChange;return Object(ee.jsxs)("div",{className:"p-field-radiobutton mb-2",children:[Object(ee.jsx)(fe.a,{inputId:t,name:"answer",value:t,onChange:a,checked:r}),Object(ee.jsx)("label",{htmlFor:t,className:"ml-2",children:n})]})}function pe(e){var t=e.id,n=Object(i.useDispatch)(),a=Object(i.useSelector)((function(e){return K(e,t)})),s=a.question,c=a.author,o=a.authedUser,u=a.isAnswered,j=Object(r.useState)(null),d=Object(w.a)(j,2),b=d[0],h=d[1];if(!s)return Object(ee.jsx)(ce,{});if(u)return Object(ee.jsx)(ge,{id:t});var O="".concat(c.name," asks:");return Object(ee.jsx)(se.a,{header:O,children:Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)(te,{url:c.avatarURL}),Object(ee.jsx)(ae.a,{layout:"vertical"}),Object(ee.jsxs)("form",{onSubmit:function(e){var r;e.preventDefault(),b&&(n((r={authedUser:o,qid:t,answer:b},function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(l.showLoading)()),e.prev=1,e.next=4,E(r);case 4:t(P(r)),t(Object(l.hideLoading)()),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),R("An error occurred in handleAnswerQuestion",e.t0),t(v("Something wrong happened during your vote. Please try again.")),t(Object(l.hideLoading)());case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),h((function(){return null})))},className:"p-fluid flex-grow-1 align-items-center justify-content-center",children:[Object(ee.jsx)("h3",{children:"Would You Rather..."}),["optionOne","optionTwo"].map((function(e){var t;return Object(ee.jsx)(ve,{option:e,label:null===(t=s[e])||void 0===t?void 0:t.text,onChange:function(){return h((function(){return e}))},isChecked:b===e},e)})),Object(ee.jsx)(Y.a,{type:"submit",label:"Submit",className:"p-button-success p-button-sm",disabled:!o||!b})]})]})})}function ge(e){var t=e.id,n=Object(i.useSelector)((function(e){return K(e,t)})),r=n.question,a=n.author,s=n.authedUser,c=n.isAnswered,o=["optionOne","optionTwo"];if(!r)return Object(ee.jsx)(ce,{});if(!c)return Object(ee.jsx)(pe,{id:t});var u=function(e){return r[e].votes.includes(s)},l=o.map((function(e){return r[e].votes.length})).reduce((function(e,t){return e+t}),0),j="Asked by ".concat(a.name,":");return Object(ee.jsx)(se.a,{header:j,children:Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)(te,{url:a.avatarURL}),Object(ee.jsx)(ae.a,{layout:"vertical"}),Object(ee.jsxs)("div",{className:"p-fluid flex-grow-1 align-items-center justify-content-center",children:[Object(ee.jsx)("h3",{children:"Results"}),o.map((function(e){return Object(ee.jsx)(xe,{option:e,text:"Would you rather ".concat(r[e].text,"?"),isUserVote:u(e),totalVotes:l,voted:r[e].votes.length},e)}))]})]})})}function ye(){var e=Object(M.h)().id,t=Object(i.useSelector)((function(t){return K(t,e)})),n=t.question,r=t.isAnswered;return n?Object(ee.jsxs)(ee.Fragment,{children:[r&&Object(ee.jsx)(ge,{id:e}),!r&&Object(ee.jsx)(pe,{id:e})]}):Object(ee.jsx)(M.a,{to:"/not-found"})}var we=n(48),qe=n(50);function Ne(e){var t=e.rank,n=1===t?"var(--yellow-500)":2===t?"var(--green-400)":"var(--bluegray-600)";return t>3?null:Object(ee.jsx)("div",{style:{backgroundColor:"var(--bluegray-100)",borderRadius:"50%",padding:"0.5rem 0",justifyContent:"center",border:"1px solid var(--bluegray-200)",fontSize:"1rem",margin:"0",display:"inline-flex",alignItems:"center",verticalAlign:"bottom",textAlign:"center",overflow:"hidden",position:"relative",height:"2.357rem",width:"2.357rem"},children:Object(ee.jsx)(qe.a,{style:{color:n}})})}function Te(e){var t=e.leader,n=e.rank;return Object(ee.jsx)(J.a,{className:"mb-3",children:Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsxs)("div",{className:"flex flex-column align-self-center",children:[Object(ee.jsx)(Ne,{rank:n}),Object(ee.jsx)(te,{url:t.avatarURL})]}),Object(ee.jsx)(ae.a,{layout:"vertical"}),Object(ee.jsxs)("div",{className:"p-fluid flex-grow-1 align-items-center justify-content-center",children:[Object(ee.jsx)("h3",{children:t.name}),Object(ee.jsxs)("div",{className:"flex justify-content-between font-bold",children:[Object(ee.jsx)("div",{children:"Answered questions"}),Object(ee.jsx)("div",{children:t.answered})]}),Object(ee.jsx)(ae.a,{}),Object(ee.jsxs)("div",{className:"flex justify-content-between font-bold",children:[Object(ee.jsx)("div",{children:"Created questions"}),Object(ee.jsx)("div",{children:t.created})]})]}),Object(ee.jsx)(ae.a,{layout:"vertical"}),Object(ee.jsx)(se.a,{header:"Score",children:Object(ee.jsx)(we.a,{value:"".concat(t.score),severity:"success",size:"xlarge"})})]})},t.id)}function Se(){var e=Object(i.useSelector)(Z),t=Object(i.useSelector)((function(e){return e.authedUser})),n=e.find((function(e){return e.id===t}));if(!n)return null;var r={leader:n,rank:e.indexOf(n)+1};return Object(ee.jsxs)(ee.Fragment,{children:[r.rank<=3&&Object(ee.jsxs)("div",{className:"p-inline-message p-component p-inline-message-success mb-2",children:[Object(ee.jsx)("i",{className:"p-inline-message-icon pi pi-thumbs-up"}),Object(ee.jsx)("span",{className:"p-inline-message-text",children:"Congratulations, you are in the top-3!"})]}),r.rank>3&&Object(ee.jsxs)("small",{className:"p-inline-message p-component p-inline-message-info mb-2",children:[Object(ee.jsx)("i",{className:"p-inline-message-icon pi pi-info-circle"}),Object(ee.jsxs)("span",{className:"p-inline-message-text",children:["You are at position ",r.rank," with a score of ",r.leader.score]})]})]})}function ke(){var e=Object(i.useSelector)(Z);return 0===e.length?Object(ee.jsx)(ue,{text:"The leader board is currently empty."}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Se,{}),e.map((function(e,t){return Object(ee.jsx)(Te,{leader:e,rank:t+1},e.id)}))]})}var Ue=n(38);function Le(){var e=Object(M.g)(),t=Object(i.useDispatch)(),n=Object(i.useSelector)((function(e){return e.authedUser})),a=Object(r.useState)(null),s=Object(w.a)(a,2),c=s[0],o=s[1],u=Object(r.useState)(null),j=Object(w.a)(u,2),d=j[0],b=j[1],h=100,O=!c||!d,m=function(e){return e?h-e.length:h};return Object(ee.jsx)(se.a,{header:"Create a new question",children:Object(ee.jsxs)("form",{onSubmit:function(r){r.preventDefault(),c&&d&&(t(function(e){var t=e.authedUser,n=e.optionOneText,r=e.optionTwoText;return function(){var e=Object(y.a)(g.a.mark((function e(a){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Object(l.showLoading)()),e.prev=1,e.next=4,z({author:t,optionOneText:n,optionTwoText:r});case 4:s=e.sent,a(B(s)),a(Object(l.hideLoading)()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),R("An error occurred in handleAddQuestion",e.t0),a(v("Something wrong happened when submitting the question. Please try again.")),a(Object(l.hideLoading)());case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}({authedUser:n,optionOneText:c,optionTwoText:d})),e.push("/"))},className:"p-fluid",children:[Object(ee.jsx)("h5",{children:"Complete the question:"}),Object(ee.jsx)("h3",{children:"Would you rather..."}),Object(ee.jsx)(Ue.a,{type:"text",name:"optionOneText",value:c,onChange:function(e){return o((function(){return e.target.value}))},placeholder:"Enter the first option here",maxLength:h}),m(c)<30&&Object(ee.jsx)("small",{id:"optionOneText-help",className:"p-error block flex justify-content-end",children:m(c)}),Object(ee.jsx)(ae.a,{align:"center",children:"OR"}),Object(ee.jsx)(Ue.a,{type:"text",name:"optionTwoText",value:d,onChange:function(e){return b((function(){return e.target.value}))},placeholder:"Enter the second option here",maxLength:h}),m(d)<30&&Object(ee.jsx)("small",{id:"optionTwoText-help",className:"p-error block flex justify-content-end",children:m(d)}),Object(ee.jsx)(Y.a,{type:"submit",label:"Submit",className:"mt-2",disabled:O})]})})}var Re=n(49);function Ce(){var e=Object(r.useRef)(null),t=Object(i.useDispatch)(),n=Object(i.useSelector)((function(e){return e.error}));return Object(r.useEffect)((function(){n&&e?e.current.show({severity:"error",summary:"Error",detail:n,life:3e3}):e&&(e.current.clear(),t(v(null)))}),[n,t]),Object(ee.jsx)(Re.a,{ref:e,onHide:function(){e&&(e.current.clear(),t(v(null)))}})}function Ae(){var e=Object(i.useDispatch)(),t=Object(i.useSelector)((function(e){return e.authedUser}));return Object(r.useEffect)((function(){e(function(){var e=Object(y.a)(g.a.mark((function e(t){var n,r,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(l.showLoading)()),e.next=3,C();case 3:n=e.sent,r=n.users,a=n.questions,t(b(r)),t(O(a)),t(Object(l.hideLoading)());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(ee.jsx)(V.a,{children:Object(ee.jsx)("div",{className:"flex justify-content-center",children:Object(ee.jsxs)("div",{className:"flex-column",children:[Object(ee.jsx)(he,{}),Object(ee.jsx)(j.a,{}),Object(ee.jsx)(Ce,{}),Object(ee.jsxs)("div",{className:"pt-3",children:[Object(ee.jsxs)(M.d,{children:[Object(ee.jsx)(M.b,{exact:!0,path:"/",children:Object(ee.jsx)(je,{})}),Object(ee.jsx)(M.b,{path:"/login",children:Object(ee.jsx)(ne,{})}),Object(ee.jsx)(M.b,{path:"/new",children:Object(ee.jsx)(Le,{})}),Object(ee.jsx)(M.b,{path:"/leader-board",children:Object(ee.jsx)(ke,{})}),Object(ee.jsx)(M.b,{path:"/questions/:id",children:Object(ee.jsx)(ye,{})}),Object(ee.jsx)(M.b,{children:Object(ee.jsx)(de,{})})]}),!t&&Object(ee.jsx)(M.a,{to:"/login"})]})]})})})}var Ee=Object(o.c)(I,H);c.a.render(Object(ee.jsx)(a.a.StrictMode,{children:Object(ee.jsx)(i.Provider,{store:Ee,children:Object(ee.jsx)(Ae,{})})}),document.getElementById("root")),u()}},[[81,1,2]]]);
//# sourceMappingURL=main.3e67577f.chunk.js.map